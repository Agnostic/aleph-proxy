html
  head
    title PR Reviewer
    link(rel='stylesheet', href='/css/bootstrap.min.css')
    link(rel='stylesheet', href='/css/app.css')
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js')
  body(ng-app="prApp")

    .container(ng-controller='pullsController')
      h3 PR Reviewer
      hr

      .panel.panel-default(ng-repeat="pull in pulls", ng-class="{'panel-success': pull.approvedBy.length > 1}")
        .panel-heading
          a(ng-href='{{pull.url}}', target='_blank').panel-title {{ pull.title }}
        .panel-body
          div(ng-bind-html='pull.body | to_trusted')
        .panel-footer
          div(ng-hide='pull.approvedBy.length') Waiting for reviews
          div(ng-show='pull.approvedBy.length') Approved by: <a ng-href="{{user.url}}" target="_blank" ng-repeat="user in pull.approvedBy">{{ user.user }}</a>


    script(src='/js/app.js')
